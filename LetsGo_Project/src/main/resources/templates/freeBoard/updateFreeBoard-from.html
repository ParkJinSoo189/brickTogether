<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layouts/layout}"
> <!--/* 위 선언은 타임리프 레이아웃을 사용하기 위한 설정 : layout2.html 로 레이아웃 사용   */-->
<head>
<title>Brick Together</title>
</head>
<!--/*  
		thymeleaf layout을 이용하므로 body tag는 명시하지 않는다
		layouts/layout.html 의 content fragment 영역에 삽입될 부분이기 때문 
*/-->
<div layout:fragment="content">
	<h2 class="bt-h2">자유게시판 글수정</h2>
	<hr>
	<br>
	<div class="container">
		<form th:action="@{/updateFreeBoard}" method="post" id="updateFreeBoard">
			<input type="hidden" name="freeNo" th:value="${updateFreeBoard.freeNo}" id="updateFreeNo">
			<input type="text" class="boardTitle" name="title" th:value="${updateFreeBoard.title}" required="required" id="updateTitle">
			<hr>
			<pre><textarea class="textarea" name="content" th:value="${updateFreeBoard.content}" required="required" id="updateContent">[[${updateFreeBoard.content}]]</textarea></pre>
			<button type="button" class="btn btn-danger" id="resetUpdateFreeBoardBtn" style="float: right;">취소</button>
			<button type="button" class="btn btn-success" id="updateFreeBoardBtn" style="float: right; margin-right: 10px;">등록</button>
		</form>
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
			$("#resetUpdateFreeBoardBtn").click(function() {
				let resetResult=confirm("취소 하시겠습니까?");
				if(resetResult){
					location.href="freeBoardDetail?freeNo="+$("#updateFreeNo").val();
				}// if
			})// click
			$("#updateFreeBoardBtn").click(function() {
				if($("#updateTitle").val().trim()==""||$("#updateContent").val().trim()==""){
					alert("제목과 내용을 모두 입력해주세요.");
					return false;
				}// if
				let updateResult=confirm("수정 하시겠습니까?");
				if(updateResult){
					$("#updateFreeBoard").submit();
				}// if
			});// click
		});// ready
	</script>
</div>

